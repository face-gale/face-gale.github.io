(window.webpackJsonp=window.webpackJsonp||[]).push([[263],{608:function(a,t,s){"use strict";s.r(t);var e=s(42),l=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"linux-部署应用程序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#linux-部署应用程序"}},[a._v("#")]),a._v(" Linux 部署应用程序")]),a._v(" "),s("h2",{attrs:{id:"安装-java"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装-java"}},[a._v("#")]),a._v(" 安装 Java")]),a._v(" "),s("p",[a._v("解压缩并移动到指定目录")]),a._v(" "),s("ol",[s("li",[a._v("解压缩："),s("code",[a._v("tar -zxvf jdk-8u152-linux-x64.tar.gz")])]),a._v(" "),s("li",[a._v("创建目录："),s("code",[a._v("mkdir -p /usr/local/java")])]),a._v(" "),s("li",[a._v("移动安装包："),s("code",[a._v("mv jdk1.8.0_152/ /usr/local/java/")])]),a._v(" "),s("li",[a._v("设置所有者："),s("code",[a._v("chown -R root:root /usr/local/java/")])])]),a._v(" "),s("p",[a._v("配置环境变量")]),a._v(" "),s("ol",[s("li",[a._v("配置系统环境变量：")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("vi /etc/environment\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[a._v("修改系统环境变量")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games"\nexport JAVA_HOME=/usr/local/java/jdk1.8.0_152\nexport JRE_HOME=/usr/local/java/jdk1.8.0_152/jre\nexport CLASSPATH=$CLASSPATH:$JAVA_HOME/lib:$JAVA_HOME/jre/lib\n')])])]),s("ol",{attrs:{start:"3"}},[s("li",[a._v("配置用户环境变量：")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("vi /etc/profile\n")])])]),s("ol",{attrs:{start:"4"}},[s("li",[a._v("修改用户环境变量")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("export JAVA_HOME=/usr/local/java/jdk1.8.0_152\nexport JRE_HOME=/usr/local/java/jdk1.8.0_152/jre\nexport CLASSPATH=$CLASSPATH:$JAVA_HOME/lib:$JAVA_HOME/jre/lib\nexport PATH=$JAVA_HOME/bin:$JAVA_HOME/jre/bin:$PATH:$HOME/bin\n")])])]),s("ol",{attrs:{start:"5"}},[s("li",[a._v("使用户环境变量生效：")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("source /etc/profile\n")])])]),s("ol",{attrs:{start:"6"}},[s("li",[a._v("验证安装是否成功")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('java -version\n# 输出如下\njava version "1.8.0_152"\nJava(TM) SE Runtime Environment (build 1.8.0_152-b16)\nJava HotSpot(TM) 64-Bit Server VM (build 25.152-b16, mixed mode)\n')])])]),s("h2",{attrs:{id:"安装-tomcat"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装-tomcat"}},[a._v("#")]),a._v(" 安装 Tomcat")]),a._v(" "),s("h3",{attrs:{id:"解压缩并移动到指定目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解压缩并移动到指定目录"}},[a._v("#")]),a._v(" 解压缩并移动到指定目录")]),a._v(" "),s("ul",[s("li",[a._v("解压缩："),s("code",[a._v("tar -zxvf apache-tomcat-8.5.23.tar.gz")])]),a._v(" "),s("li",[a._v("变更目录："),s("code",[a._v("mv apache-tomcat-8.5.23 tomcat")])]),a._v(" "),s("li",[a._v("移动目录："),s("code",[a._v("mv tomcat/ /usr/local/")])])]),a._v(" "),s("h3",{attrs:{id:"验证安装是否成功"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#验证安装是否成功"}},[a._v("#")]),a._v(" 验证安装是否成功")]),a._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("启动：")]),a._v(" "),s("ul",[s("li",[a._v("/usr/local/tomcat/bin/startup.sh")]),a._v(" "),s("li",[a._v("./startup.sh")])])]),a._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("停止：")]),a._v(" "),s("ul",[s("li",[a._v("/usr/local/tomcat/bin/shutdown.sh")]),a._v(" "),s("li",[a._v("./shutdown.sh")])])]),a._v(" "),s("h2",{attrs:{id:"安装-mysql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装-mysql"}},[a._v("#")]),a._v(" 安装 MySQL")]),a._v(" "),s("h3",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),s("ul",[s("li",[a._v("更新数据源："),s("code",[a._v("apt-get update")])]),a._v(" "),s("li",[a._v("安装数据库："),s("code",[a._v("apt-get install mysql-server")])])]),a._v(" "),s("blockquote",[s("p",[a._v("注意： 系统将提示您在安装过程中创建 root 密码。选择一个安全的密码，并确保你记住它，因为你以后需要它。接下来，我们将完成 MySQL 的配置。")])]),a._v(" "),s("h3",{attrs:{id:"配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[a._v("#")]),a._v(" 配置")]),a._v(" "),s("blockquote",[s("p",[a._v("注意： 因为是全新安装，您需要运行附带的安全脚本。这会更改一些不太安全的默认选项，例如远程 root 登录和示例用户。在旧版本的 MySQL 上，您需要手动初始化数据目录，但最新的 MySQL 已经自动完成了。")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("mysql_secure_installation\n")])])]),s("p",[a._v("这将提示您输入您在之前步骤中创建的 root 密码。您可以按 Y，然后 ENTER 接受所有后续问题的默认值，但是要询问您是否要更改 root 密码。您只需在之前步骤中进行设置即可，因此无需现在更改。")]),a._v(" "),s("h3",{attrs:{id:"验证安装是否成功-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#验证安装是否成功-2"}},[a._v("#")]),a._v(" 验证安装是否成功")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("systemctl status mysql\n# 输出如下\n● mysql.service - MySQL Community Server\n   Loaded: loaded (/lib/systemd/system/mysql.service; enabled; vendor preset: enabled)\n   Active: active (running) since Tue 2017-11-21 13:04:34 CST; 3min 24s ago\n Main PID: 2169 (mysqld)\n   CGroup: /system.slice/mysql.service\n           └─2169 /usr/sbin/mysqld\nNov 21 13:04:33 ubuntu systemd[1]: Starting MySQL Community Server...\nNov 21 13:04:34 ubuntu systemd[1]: Started MySQL Community Server.\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("常用命令")]),a._v(" "),s("ul",[s("li",[a._v("查看版本："),s("code",[a._v("mysqladmin -p -u root version")])]),a._v(" "),s("li",[a._v("启动："),s("code",[a._v("service mysql start")])]),a._v(" "),s("li",[a._v("停止："),s("code",[a._v("service mysql stop")])]),a._v(" "),s("li",[a._v("重启："),s("code",[a._v("service mysql restart")])]),a._v(" "),s("li",[a._v("登录："),s("code",[a._v("mysql -u root -p")])]),a._v(" "),s("li",[a._v("授权："),s("code",[a._v("grant all privileges on *.* to 'root'@'%' identified by 'Your Password';")])])])]),a._v(" "),s("h2",{attrs:{id:"扩展阅读"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#扩展阅读"}},[a._v("#")]),a._v(" 扩展阅读")]),a._v(" "),s("h3",{attrs:{id:"配置使用密码方式登录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置使用密码方式登录"}},[a._v("#")]),a._v(" 配置使用密码方式登录")]),a._v(" "),s("p",[a._v("在安装过程中可能没有提示密码设置的环节此时默认使用的是 auth_socket 方式登录，我们需要修改为 mysql_native_password 方式，操作步骤如下:")]),a._v(" "),s("ol",[s("li",[a._v("本地登录 MySQL，此时无需输入密码")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("mysql -u root -p\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[a._v("切换数据库到 mysql")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("use mysql;\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[a._v("修改 root 账号密码")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("update user set authentication_string=password('123456') where user='root';\n")])])]),s("ol",{attrs:{start:"4"}},[s("li",[a._v("设置登录模式")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('update user set plugin="mysql_native_password";\n')])])]),s("ol",{attrs:{start:"5"}},[s("li",[a._v("刷新配置")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("flush privileges;\n")])])]),s("ol",{attrs:{start:"6"}},[s("li",[a._v("退出 MySQL")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("exit;\n")])])]),s("ol",{attrs:{start:"7"}},[s("li",[a._v("重新启动 MySQL")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("systemctl restart mysql\n")])])]),s("h3",{attrs:{id:"配置远程访问"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置远程访问"}},[a._v("#")]),a._v(" 配置远程访问")]),a._v(" "),s("ol",[s("li",[a._v("修改配置文件")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("vi /etc/mysql/mysql.conf.d/mysqld.cnf\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[a._v("注释掉(语句前面加上 # 即可)：")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("# bind-address = 127.0.0.1\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[a._v("重启 MySQL")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("service mysql restart\n")])])]),s("ol",{attrs:{start:"4"}},[s("li",[a._v("登录 MySQL")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("mysql -u root -p\n")])])]),s("ol",{attrs:{start:"5"}},[s("li",[a._v("授权 root 用户允许所有人连接")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("grant all privileges on *.* to 'root'@'%' identified by 'Your Password';\n")])])]),s("h3",{attrs:{id:"因弱口令无法成功授权解决步骤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#因弱口令无法成功授权解决步骤"}},[a._v("#")]),a._v(" 因弱口令无法成功授权解决步骤")]),a._v(" "),s("ol",[s("li",[a._v("查看和设置密码安全级别")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("select @@validate_password_policy;\nset global validate_password_policy=0;\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[a._v("查看和设置密码长度限制")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("select @@validate_password_length;\nset global validate_password_length=1;\n")])])]),s("h3",{attrs:{id:"其它配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#其它配置"}},[a._v("#")]),a._v(" 其它配置")]),a._v(" "),s("p",[a._v("修改配置文件："),s("code",[a._v("vi /etc/mysql/mysql.conf.d/mysqld.cnf")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[client]\ndefault-character-set=utf8\n[mysqld]\ndefault-storage-engine=INNODB\ncharacter-set-server=utf8\ncollation-server=utf8_general_ci\nlower-case-table-names=1\n")])])]),s("blockquote",[s("p",[a._v("注意： 配置内容追加到对应节点的底部即可")])])])}),[],!1,null,null,null);t.default=l.exports}}]);
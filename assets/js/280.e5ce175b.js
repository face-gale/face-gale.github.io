(window.webpackJsonp=window.webpackJsonp||[]).push([[280],{626:function(a,t,s){"use strict";s.r(t);var e=s(42),r=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"skywalking-服务端配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#skywalking-服务端配置"}},[a._v("#")]),a._v(" SkyWalking-服务端配置")]),a._v(" "),s("h2",{attrs:{id:"基于-docker-安装-elasticsearch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基于-docker-安装-elasticsearch"}},[a._v("#")]),a._v(" 基于 Docker 安装 ElasticSearch")]),a._v(" "),s("p",[a._v("在 "),s("a",{attrs:{href:"https://www.funtl.com/zh/spring-cloud-alibaba/%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E9%93%BE%E8%B7%AF%E8%BF%BD%E8%B8%AA.html#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E9%93%BE%E8%B7%AF%E8%BF%BD%E8%B8%AA",target:"_blank",rel:"noopener noreferrer"}},[s("strong",[a._v("为什么需要链路追踪")]),s("OutboundLink")],1),a._v(" 章节中介绍过 SkyWalking 存储方案有多种，官方推荐的方案是 ElasticSearch ，所以我们需要先安装 ElasticSearch。")]),a._v(" "),s("h3",{attrs:{id:"docker-compose-yml"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose-yml"}},[a._v("#")]),a._v(" docker-compose.yml")]),a._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'3.3'")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("services")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("elasticsearch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" wutang/elasticsearch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("shanghai"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("zone"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("6.3.2\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("container_name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" elasticsearch\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("restart")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" always\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" 9200"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("9200")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" 9300"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("9300")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("environment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("cluster.name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" elasticsearch\n")])])]),s("p",[a._v("其中，"),s("code",[a._v("9200")]),a._v(" 端口号为 SkyWalking 配置 ElasticSearch 所需端口号，"),s("code",[a._v("cluster.name")]),a._v(" 为 SkyWalking 配置 ElasticSearch 集群的名称")]),a._v(" "),s("h3",{attrs:{id:"测试是否启动成功"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#测试是否启动成功"}},[a._v("#")]),a._v(" 测试是否启动成功")]),a._v(" "),s("p",[a._v("浏览器访问 http://elasticsearchIP:9200/ ，浏览器返回如下信息即表示成功启动")]),a._v(" "),s("p",[s("img",{attrs:{src:"/micro/Lusifer_20190114024609.png",alt:""}})]),a._v(" "),s("h2",{attrs:{id:"下载并启动-skywalking"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载并启动-skywalking"}},[a._v("#")]),a._v(" 下载并启动 SkyWalking")]),a._v(" "),s("p",[a._v("官方已经为我们准备好了编译过的服务端版本，下载地址为 "),s("a",{attrs:{href:"http://skywalking.apache.org/downloads/",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://skywalking.apache.org/downloads/"),s("OutboundLink")],1),a._v("，这里我们需要下载 6.x releases 版本")]),a._v(" "),s("p",[s("img",{attrs:{src:"/micro/Lusifer_20190114025523.png",alt:""}})]),a._v(" "),s("h3",{attrs:{id:"配置-skywalking"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置-skywalking"}},[a._v("#")]),a._v(" 配置 SkyWalking")]),a._v(" "),s("p",[a._v("下载完成后解压缩，进入 "),s("code",[a._v("apache-skywalking-apm-incubating/config")]),a._v(" 目录并修改 "),s("code",[a._v("application.yml")]),a._v(" 配置文件")]),a._v(" "),s("p",[s("img",{attrs:{src:"/micro/Lusifer_20190114030006.png",alt:""}})]),a._v(" "),s("p",[a._v("这里需要做三件事：")]),a._v(" "),s("ul",[s("li",[a._v("注释 H2 存储方案")]),a._v(" "),s("li",[a._v("启用 ElasticSearch 存储方案")]),a._v(" "),s("li",[a._v("修改 ElasticSearch 服务器地址")])]),a._v(" "),s("h3",{attrs:{id:"启动-skywalking"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动-skywalking"}},[a._v("#")]),a._v(" 启动 SkyWalking")]),a._v(" "),s("p",[a._v("修改完配置后，进入 "),s("code",[a._v("apache-skywalking-apm-incubating\\bin")]),a._v(" 目录，运行 "),s("code",[a._v("startup.bat")]),a._v(" 启动服务端")]),a._v(" "),s("p",[s("img",{attrs:{src:"/micro/Lusifer_20190114030813.png",alt:""}})]),a._v(" "),s("p",[a._v("通过浏览器访问 http://localhost:8080 出现如下界面即表示启动成功")]),a._v(" "),s("p",[s("img",{attrs:{src:"/micro/Lusifer_20190114030930.png",alt:""}})]),a._v(" "),s("p",[a._v("默认的用户名密码为：admin/admin，登录成功后，效果如下图")]),a._v(" "),s("p",[s("img",{attrs:{src:"/micro/Lusifer_20190114031040.png",alt:""}})])])}),[],!1,null,null,null);t.default=r.exports}}]);